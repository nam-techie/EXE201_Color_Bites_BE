# üìä Color Bites Admin API - T√†i li·ªáu chi ti·∫øt cho Frontend

## üéØ T·ªïng quan

T√†i li·ªáu n√†y cung c·∫•p th√¥ng tin chi ti·∫øt v·ªÅ t·∫•t c·∫£ API admin c·ªßa h·ªá th·ªëng Color Bites Backend, bao g·ªìm DTO request/response, c·∫•u tr√∫c d·ªØ li·ªáu v√† h∆∞·ªõng d·∫´n implement cho Frontend team.

## üîê Authentication & Authorization

### Y√™u c·∫ßu Authentication
- **T·∫•t c·∫£ endpoints admin** y√™u c·∫ßu JWT token h·ª£p l·ªá
- **Role y√™u c·∫ßu**: `ADMIN` (ch·ªâ admin m·ªõi ƒë∆∞·ª£c truy c·∫≠p)
- **Header**: `Authorization: Bearer {jwt_token}`

### C√°ch l·∫•y JWT Token
```javascript
// Login ƒë·ªÉ l·∫•y token
const response = await fetch('/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    username: 'admin_username',
    password: 'admin_password'
  })
});

const data = await response.json();
const token = data.data.token; // L∆∞u token n√†y ƒë·ªÉ d√πng cho c√°c API admin
```

---

## üìã C·∫•u tr√∫c Response chung

T·∫•t c·∫£ API ƒë·ªÅu tr·∫£ v·ªÅ c·∫•u tr√∫c response th·ªëng nh·∫•t:

```typescript
interface ResponseDto<T> {
  status: number;        // HTTP status code
  message: string;       // Th√¥ng b√°o
  data: T;              // D·ªØ li·ªáu tr·∫£ v·ªÅ
}
```

---

## üè† **Base URL**: `/api/admin`

---

## üë• **1. USER MANAGEMENT**

### **1.1 L·∫•y danh s√°ch t·∫•t c·∫£ users**
```http
GET /api/admin/user
Authorization: Bearer {jwt_token}
```

**Response DTO:**
```typescript
interface ListAccountResponse {
  id: string;
  username: string;
  isActive: boolean;
  role: string;
  avatarUrl: string;
  created: string;        // ISO 8601 format
  updated: string;        // ISO 8601 format
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "successfully",
  "data": [
    {
      "id": "user_id_1",
      "username": "john_doe",
      "isActive": true,
      "role": "USER",
      "avatarUrl": "https://example.com/avatar.jpg",
      "created": "2024-01-01T00:00:00",
      "updated": "2024-01-01T00:00:00"
    }
  ]
}
```

### **1.2 Ch·∫∑n user**
```http
PUT /api/admin/block-user/{userId}
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "Ch·∫∑n ng∆∞·ªùi d√πng th√†nh c√¥ng",
  "data": null
}
```

### **1.3 K√≠ch ho·∫°t l·∫°i user**
```http
PUT /api/admin/active-user/{userId}
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "Ng∆∞·ªùi d√πng ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t",
  "data": null
}
```

---

## üìù **2. POST MANAGEMENT**

### **2.1 L·∫•y danh s√°ch b√†i vi·∫øt (ph√¢n trang)**
```http
GET /api/admin/posts?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Query Parameters:**
- `page` (int, default: 0): S·ªë trang
- `size` (int, default: 10): S·ªë l∆∞·ª£ng items per page

**Response DTO:**
```typescript
interface AdminPostResponse {
  id: string;
  accountId: string;
  accountName: string;
  content: string;
  moodId: string;
  moodName: string;
  reactionCount: number;
  commentCount: number;
  isDeleted: boolean;
  createdAt: string;        // ISO 8601 format
  updatedAt: string;        // ISO 8601 format
  // Th√¥ng tin b·ªï sung cho admin
  authorEmail: string;
  authorIsActive: boolean;
  authorRole: string;
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "L·∫•y danh s√°ch b√†i vi·∫øt th√†nh c√¥ng",
  "data": {
    "content": [
      {
        "id": "post_id_1",
        "accountId": "user_id_1",
        "accountName": "john_doe",
        "content": "N·ªôi dung b√†i vi·∫øt...",
        "moodId": "mood_id_1",
        "moodName": "Happy",
        "reactionCount": 15,
        "commentCount": 8,
        "isDeleted": false,
        "createdAt": "2024-01-01T00:00:00",
        "updatedAt": "2024-01-01T00:00:00",
        "authorEmail": "john@example.com",
        "authorIsActive": true,
        "authorRole": "USER"
      }
    ],
    "totalElements": 100,
    "totalPages": 10,
    "size": 10,
    "number": 0
  }
}
```

### **2.2 L·∫•y chi ti·∫øt b√†i vi·∫øt**
```http
GET /api/admin/posts/{postId}
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `AdminPostResponse` (single object)

### **2.3 X√≥a b√†i vi·∫øt (soft delete)**
```http
DELETE /api/admin/posts/{postId}
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "X√≥a b√†i vi·∫øt th√†nh c√¥ng",
  "data": null
}
```

### **2.4 Kh√¥i ph·ª•c b√†i vi·∫øt ƒë√£ x√≥a**
```http
PUT /api/admin/posts/{postId}/restore
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "Kh√¥i ph·ª•c b√†i vi·∫øt th√†nh c√¥ng",
  "data": null
}
```

---

## üí¨ **3. COMMENT MANAGEMENT**

### **3.1 L·∫•y danh s√°ch t·∫•t c·∫£ comments**
```http
GET /api/admin/comments?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Response DTO:**
```typescript
interface AdminCommentResponse {
  id: string;
  postId: string;
  postTitle: string;
  content: string;
  accountId: string;
  accountName: string;
  parentCommentId: string | null;
  replyCount: number;
  isDeleted: boolean;
  createdAt: string;        // ISO 8601 format
  updatedAt: string;        // ISO 8601 format
  // Th√¥ng tin b·ªï sung cho admin
  authorEmail: string;
  authorIsActive: boolean;
  authorRole: string;
  postAuthorName: string;
  postAuthorEmail: string;
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "L·∫•y danh s√°ch comment th√†nh c√¥ng",
  "data": {
    "content": [
      {
        "id": "comment_id_1",
        "postId": "post_id_1",
        "postTitle": "N·ªôi dung b√†i vi·∫øt...",
        "content": "Comment hay qu√°!",
        "accountId": "user_id_1",
        "accountName": "john_doe",
        "parentCommentId": null,
        "replyCount": 3,
        "isDeleted": false,
        "createdAt": "2024-01-01T00:00:00",
        "updatedAt": "2024-01-01T00:00:00",
        "authorEmail": "john@example.com",
        "authorIsActive": true,
        "authorRole": "USER",
        "postAuthorName": "post_author",
        "postAuthorEmail": "post_author@example.com"
      }
    ],
    "totalElements": 50,
    "totalPages": 5
  }
}
```

### **3.2 L·∫•y chi ti·∫øt comment**
```http
GET /api/admin/comments/{commentId}
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `AdminCommentResponse` (single object)

### **3.3 X√≥a comment (soft delete)**
```http
DELETE /api/admin/comments/{commentId}
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "X√≥a comment th√†nh c√¥ng",
  "data": null
}
```

### **3.4 Kh√¥i ph·ª•c comment ƒë√£ x√≥a**
```http
PUT /api/admin/comments/{commentId}/restore
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "Kh√¥i ph·ª•c comment th√†nh c√¥ng",
  "data": null
}
```

### **3.5 L·∫•y comments theo b√†i vi·∫øt**
```http
GET /api/admin/comments/post/{postId}?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `Page<AdminCommentResponse>`

### **3.6 Th·ªëng k√™ comments**
```http
GET /api/admin/comments/statistics
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "L·∫•y th·ªëng k√™ comment th√†nh c√¥ng",
  "data": {
    "totalComments": 1000,
    "activeComments": 950,
    "deletedComments": 50
  }
}
```

---

## üçΩÔ∏è **4. RESTAURANT MANAGEMENT**

### **4.1 L·∫•y danh s√°ch nh√† h√†ng (ph√¢n trang)**
```http
GET /api/admin/restaurants?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Response DTO:**
```typescript
interface AdminRestaurantResponse {
  id: string;
  name: string;
  address: string;
  longitude: number;
  latitude: number;
  description: string;
  type: string;
  region: string;
  avgPrice: number;
  rating: number;
  featured: boolean;
  createdBy: string;
  createdByName: string;
  createdAt: string;        // ISO 8601 format
  isDeleted: boolean;
  // Th√¥ng tin b·ªï sung cho admin
  creatorEmail: string;
  creatorIsActive: boolean;
  creatorRole: string;
  favoriteCount: number;
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "L·∫•y danh s√°ch nh√† h√†ng th√†nh c√¥ng",
  "data": {
    "content": [
      {
        "id": "restaurant_id_1",
        "name": "Nh√† h√†ng ABC",
        "address": "123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM",
        "longitude": 106.6297,
        "latitude": 10.8231,
        "description": "Nh√† h√†ng ngon",
        "type": "Vietnamese",
        "region": "Ho Chi Minh City",
        "avgPrice": 150000.0,
        "rating": 4.5,
        "featured": true,
        "createdBy": "user_id_1",
        "createdByName": "john_doe",
        "createdAt": "2024-01-01T00:00:00",
        "isDeleted": false,
        "creatorEmail": "john@example.com",
        "creatorIsActive": true,
        "creatorRole": "USER",
        "favoriteCount": 25
      }
    ],
    "totalElements": 200,
    "totalPages": 20
  }
}
```

### **4.2 L·∫•y chi ti·∫øt nh√† h√†ng**
```http
GET /api/admin/restaurants/{restaurantId}
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `AdminRestaurantResponse` (single object)

### **4.3 X√≥a nh√† h√†ng (soft delete)**
```http
DELETE /api/admin/restaurants/{restaurantId}
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "X√≥a nh√† h√†ng th√†nh c√¥ng",
  "data": null
}
```

### **4.4 Kh√¥i ph·ª•c nh√† h√†ng ƒë√£ x√≥a**
```http
PUT /api/admin/restaurants/{restaurantId}/restore
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "Kh√¥i ph·ª•c nh√† h√†ng th√†nh c√¥ng",
  "data": null
}
```

---

## üí≥ **5. TRANSACTION/PAYMENT MANAGEMENT**

### **5.1 L·∫•y danh s√°ch giao d·ªãch (ph√¢n trang)**
```http
GET /api/admin/transactions?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Response DTO:**
```typescript
interface AdminTransactionResponse {
  id: string;
  accountId: string;
  accountName: string;
  accountEmail: string;
  amount: number;
  currency: string;
  type: string;
  status: string;
  plan: string;
  gateway: string;
  orderCode: string;
  providerTxnId: string;
  metadata: Record<string, any>;
  rawPayload: Record<string, any>;
  createdAt: string;        // ISO 8601 format
  updatedAt: string;        // ISO 8601 format
  // Th√¥ng tin b·ªï sung cho admin
  accountIsActive: boolean;
  accountRole: string;
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "L·∫•y danh s√°ch giao d·ªãch th√†nh c√¥ng",
  "data": {
    "content": [
      {
        "id": "transaction_id_1",
        "accountId": "user_id_1",
        "accountName": "john_doe",
        "accountEmail": "john@example.com",
        "amount": 100000.0,
        "currency": "VND",
        "type": "PAYMENT",
        "status": "SUCCESS",
        "plan": "PREMIUM",
        "gateway": "PayOS",
        "orderCode": "1234567890",
        "providerTxnId": "payos_txn_123",
        "metadata": {},
        "rawPayload": {},
        "createdAt": "2024-01-01T00:00:00",
        "updatedAt": "2024-01-01T00:00:00",
        "accountIsActive": true,
        "accountRole": "USER"
      }
    ],
    "totalElements": 500,
    "totalPages": 50
  }
}
```

### **5.2 L·∫•y chi ti·∫øt giao d·ªãch**
```http
GET /api/admin/transactions/{transactionId}
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `AdminTransactionResponse` (single object)

### **5.3 L·∫•y giao d·ªãch theo tr·∫°ng th√°i**
```http
GET /api/admin/transactions/status/{status}?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Status Values**: `SUCCESS`, `PENDING`, `FAILED`, `CANCELED`

**Response:** Tr·∫£ v·ªÅ `Page<AdminTransactionResponse>`

---

## üè∑Ô∏è **6. TAG MANAGEMENT**

### **6.1 L·∫•y danh s√°ch t·∫•t c·∫£ tags**
```http
GET /api/admin/tags?page=0&size=10
Authorization: Bearer {jwt_token}
```

**Response DTO:**
```typescript
interface AdminTagResponse {
  id: string;
  name: string;
  description: string;
  usageCount: number;
  isDeleted: boolean;
  createdAt: string;        // ISO 8601 format
  updatedAt: string;        // ISO 8601 format
  // Th√¥ng tin b·ªï sung cho admin
  createdBy: string;
  createdByName: string;
  createdByEmail: string;
  postCount: number;
  restaurantCount: number;
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "L·∫•y danh s√°ch tag th√†nh c√¥ng",
  "data": {
    "content": [
      {
        "id": "tag_id_1",
        "name": "Vietnamese Food",
        "description": "M√≥n ƒÉn Vi·ªát Nam",
        "usageCount": 150,
        "isDeleted": false,
        "createdAt": "2024-01-01T00:00:00",
        "updatedAt": "2024-01-01T00:00:00",
        "createdBy": "System",
        "createdByName": "System",
        "createdByEmail": "system@colorbites.com",
        "postCount": 100,
        "restaurantCount": 50
      }
    ],
    "totalElements": 50,
    "totalPages": 5
  }
}
```

### **6.2 L·∫•y chi ti·∫øt tag**
```http
GET /api/admin/tags/{tagId}
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `AdminTagResponse` (single object)

### **6.3 T·∫°o tag m·ªõi**
```http
POST /api/admin/tags?name=New Tag&description=Tag description
Authorization: Bearer {jwt_token}
```

**Query Parameters:**
- `name` (string, required): T√™n tag
- `description` (string, optional): M√¥ t·∫£ tag

**Response:** Tr·∫£ v·ªÅ `AdminTagResponse` (single object)

### **6.4 C·∫≠p nh·∫≠t tag**
```http
PUT /api/admin/tags/{tagId}?name=Updated Tag&description=Updated description
Authorization: Bearer {jwt_token}
```

**Query Parameters:**
- `name` (string, required): T√™n tag m·ªõi
- `description` (string, optional): M√¥ t·∫£ tag m·ªõi

**Response:** Tr·∫£ v·ªÅ `AdminTagResponse` (single object)

### **6.5 X√≥a tag (soft delete)**
```http
DELETE /api/admin/tags/{tagId}
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "X√≥a tag th√†nh c√¥ng",
  "data": null
}
```

### **6.6 Th·ªëng k√™ tags**
```http
GET /api/admin/tags/statistics
Authorization: Bearer {jwt_token}
```

**Response:**
```json
{
  "status": 200,
  "message": "L·∫•y th·ªëng k√™ tag th√†nh c√¥ng",
  "data": {
    "totalTags": 100,
    "activeTags": 95,
    "deletedTags": 5
  }
}
```

---

## üìä **7. STATISTICS & ANALYTICS**

### **7.1 Th·ªëng k√™ t·ªïng quan h·ªá th·ªëng**
```http
GET /api/admin/statistics
Authorization: Bearer {jwt_token}
```

**Response DTO:**
```typescript
interface StatisticsResponse {
  // Basic counts
  totalUsers: number;
  activeUsers: number;
  totalPosts: number;
  totalRestaurants: number;
  totalComments: number;
  totalTags: number;
  totalChallenges: number;
  totalTransactions: number;
  
  // Revenue statistics
  totalRevenue: number;
  monthlyRevenue: number;
  dailyRevenue: number;
  successfulTransactions: number;
  failedTransactions: number;
  pendingTransactions: number;
  
  // Engagement statistics
  totalReactions: number;
  totalFavorites: number;
  averageRating: number;
  totalMoodMaps: number;
  totalQuizzes: number;
  
  // Time-based data
  userGrowthData: Array<Record<string, any>>;
  postActivityData: Array<Record<string, any>>;
  revenueData: Array<Record<string, any>>;
  engagementData: Array<Record<string, any>>;
  
  // Top performers
  topPosts: Array<Record<string, any>>;
  topRestaurants: Array<Record<string, any>>;
  topUsers: Array<Record<string, any>>;
  popularTags: Array<Record<string, any>>;
  
  // System health
  lastUpdated: string;        // ISO 8601 format
  systemStatus: string;
  activeSessions: number;
}
```

**Response Example:**
```json
{
  "status": 200,
  "message": "L·∫•y th·ªëng k√™ h·ªá th·ªëng th√†nh c√¥ng",
  "data": {
    "totalUsers": 1000,
    "activeUsers": 950,
    "totalPosts": 5000,
    "totalRestaurants": 500,
    "totalComments": 2000,
    "totalTags": 100,
    "totalChallenges": 50,
    "totalTransactions": 2000,
    "totalRevenue": 10000000.0,
    "monthlyRevenue": 500000.0,
    "dailyRevenue": 15000.0,
    "successfulTransactions": 1800,
    "failedTransactions": 100,
    "pendingTransactions": 100,
    "totalReactions": 50000,
    "totalFavorites": 10000,
    "averageRating": 4.2,
    "totalMoodMaps": 200,
    "totalQuizzes": 100,
    "userGrowthData": [],
    "postActivityData": [],
    "revenueData": [],
    "engagementData": [],
    "topPosts": [],
    "topRestaurants": [],
    "topUsers": [],
    "popularTags": [],
    "lastUpdated": "2024-01-01T00:00:00",
    "systemStatus": "HEALTHY",
    "activeSessions": 150
  }
}
```

### **7.2 Th·ªëng k√™ users**
```http
GET /api/admin/statistics/users
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `StatisticsResponse` (focused on user data)

### **7.3 Th·ªëng k√™ posts**
```http
GET /api/admin/statistics/posts
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `StatisticsResponse` (focused on post data)

### **7.4 Th·ªëng k√™ restaurants**
```http
GET /api/admin/statistics/restaurants
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `StatisticsResponse` (focused on restaurant data)

### **7.5 Th·ªëng k√™ doanh thu**
```http
GET /api/admin/statistics/revenue
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `StatisticsResponse` (focused on revenue data)

### **7.6 Th·ªëng k√™ t∆∞∆°ng t√°c**
```http
GET /api/admin/statistics/engagement
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `StatisticsResponse` (focused on engagement data)

### **7.7 Th·ªëng k√™ challenges**
```http
GET /api/admin/statistics/challenges
Authorization: Bearer {jwt_token}
```

**Response:** Tr·∫£ v·ªÅ `StatisticsResponse` (focused on challenge data)

---

## üé® **C·∫§U TR√öC NAVBAR ADMIN ƒê·ªÄ XU·∫§T**

```
üìä Dashboard
‚îú‚îÄ‚îÄ üìà Overview Statistics
‚îú‚îÄ‚îÄ üìä Charts & Graphs
‚îî‚îÄ‚îÄ üéØ Key Metrics

üë• Users Management
‚îú‚îÄ‚îÄ üë§ All Users
‚îú‚îÄ‚îÄ üö´ Blocked Users
‚îú‚îÄ‚îÄ ‚úÖ Active Users
‚îî‚îÄ‚îÄ üìä User Statistics

üìù Posts Management
‚îú‚îÄ‚îÄ üìÑ All Posts
‚îú‚îÄ‚îÄ üóëÔ∏è Deleted Posts
‚îú‚îÄ‚îÄ üìä Post Analytics
‚îî‚îÄ‚îÄ üîç Search Posts

üí¨ Comments Management
‚îú‚îÄ‚îÄ üí¨ All Comments
‚îú‚îÄ‚îÄ üóëÔ∏è Deleted Comments
‚îú‚îÄ‚îÄ üìä Comment Statistics
‚îî‚îÄ‚îÄ üîç Search Comments

üçΩÔ∏è Restaurants Management
‚îú‚îÄ‚îÄ üè™ All Restaurants
‚îú‚îÄ‚îÄ üóëÔ∏è Deleted Restaurants
‚îú‚îÄ‚îÄ ‚≠ê Featured Restaurants
‚îî‚îÄ‚îÄ üìä Restaurant Analytics

üí≥ Transactions/Payments
‚îú‚îÄ‚îÄ üí∞ All Transactions
‚îú‚îÄ‚îÄ ‚úÖ Successful Payments
‚îú‚îÄ‚îÄ ‚ùå Failed Payments
‚îú‚îÄ‚îÄ ‚è≥ Pending Payments
‚îî‚îÄ‚îÄ üìä Revenue Analytics

üè∑Ô∏è Tags Management
‚îú‚îÄ‚îÄ üè∑Ô∏è All Tags
‚îú‚îÄ‚îÄ ‚ûï Create Tag
‚îú‚îÄ‚îÄ ‚úèÔ∏è Edit Tags
‚îú‚îÄ‚îÄ üìä Tag Statistics
‚îî‚îÄ‚îÄ üîç Search Tags

üìà Statistics & Reports
‚îú‚îÄ‚îÄ üë• User Analytics
‚îú‚îÄ‚îÄ üìù Post Analytics
‚îú‚îÄ‚îÄ üçΩÔ∏è Restaurant Analytics
‚îú‚îÄ‚îÄ üí∞ Revenue Reports
‚îú‚îÄ‚îÄ üí¨ Engagement Analytics
‚îî‚îÄ‚îÄ üìä System Health
```

---

## üö® **L∆ØU √ù QUAN TR·ªåNG V·ªÄ SOFT DELETE**

### **APIs c√≥ th·ªÉ soft delete (c√≥ tr∆∞·ªùng isDeleted):**
- ‚úÖ **Posts**: `/api/admin/posts/{id}` (DELETE) + `/api/admin/posts/{id}/restore` (PUT)
- ‚úÖ **Comments**: `/api/admin/comments/{id}` (DELETE) + `/api/admin/comments/{id}/restore` (PUT)
- ‚úÖ **Restaurants**: `/api/admin/restaurants/{id}` (DELETE) + `/api/admin/restaurants/{id}/restore` (PUT)
- ‚úÖ **Tags**: `/api/admin/tags/{id}` (DELETE) + restore endpoint (n·∫øu c√≥)

### **APIs KH√îNG c√≥ soft delete (kh√¥ng c√≥ tr∆∞·ªùng isDeleted):**
- ‚ùå **Users**: Ch·ªâ c√≥ block/unblock, kh√¥ng c√≥ delete
- ‚ùå **Transactions**: Kh√¥ng c√≥ delete (ch·ªâ xem v√† th·ªëng k√™)

---

## üîß **FRONTEND IMPLEMENTATION GUIDE**

### **1. API Service Layer:**
```typescript
class AdminAPIService {
  private baseURL = '/api/admin';
  private token = localStorage.getItem('admin_token');
  
  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<ResponseDto<T>> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      ...options,
      headers: {
        'Authorization': `Bearer ${this.token}`,
        'Content-Type': 'application/json',
        ...options.headers
      }
    });
    
    return response.json();
  }
  
  // Users
  async getUsers(): Promise<ResponseDto<ListAccountResponse[]>> {
    return this.request<ListAccountResponse[]>('/user');
  }
  
  async blockUser(userId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/block-user/${userId}`, { method: 'PUT' });
  }
  
  async activeUser(userId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/active-user/${userId}`, { method: 'PUT' });
  }
  
  // Posts
  async getPosts(page = 0, size = 10): Promise<ResponseDto<Page<AdminPostResponse>>> {
    return this.request<Page<AdminPostResponse>>(`/posts?page=${page}&size=${size}`);
  }
  
  async getPostById(postId: string): Promise<ResponseDto<AdminPostResponse>> {
    return this.request<AdminPostResponse>(`/posts/${postId}`);
  }
  
  async deletePost(postId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/posts/${postId}`, { method: 'DELETE' });
  }
  
  async restorePost(postId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/posts/${postId}/restore`, { method: 'PUT' });
  }
  
  // Comments
  async getComments(page = 0, size = 10): Promise<ResponseDto<Page<AdminCommentResponse>>> {
    return this.request<Page<AdminCommentResponse>>(`/comments?page=${page}&size=${size}`);
  }
  
  async getCommentById(commentId: string): Promise<ResponseDto<AdminCommentResponse>> {
    return this.request<AdminCommentResponse>(`/comments/${commentId}`);
  }
  
  async deleteComment(commentId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/comments/${commentId}`, { method: 'DELETE' });
  }
  
  async restoreComment(commentId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/comments/${commentId}/restore`, { method: 'PUT' });
  }
  
  async getCommentsByPost(postId: string, page = 0, size = 10): Promise<ResponseDto<Page<AdminCommentResponse>>> {
    return this.request<Page<AdminCommentResponse>>(`/comments/post/${postId}?page=${page}&size=${size}`);
  }
  
  async getCommentStatistics(): Promise<ResponseDto<Record<string, any>>> {
    return this.request<Record<string, any>>('/comments/statistics');
  }
  
  // Restaurants
  async getRestaurants(page = 0, size = 10): Promise<ResponseDto<Page<AdminRestaurantResponse>>> {
    return this.request<Page<AdminRestaurantResponse>>(`/restaurants?page=${page}&size=${size}`);
  }
  
  async getRestaurantById(restaurantId: string): Promise<ResponseDto<AdminRestaurantResponse>> {
    return this.request<AdminRestaurantResponse>(`/restaurants/${restaurantId}`);
  }
  
  async deleteRestaurant(restaurantId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/restaurants/${restaurantId}`, { method: 'DELETE' });
  }
  
  async restoreRestaurant(restaurantId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/restaurants/${restaurantId}/restore`, { method: 'PUT' });
  }
  
  // Transactions
  async getTransactions(page = 0, size = 10): Promise<ResponseDto<Page<AdminTransactionResponse>>> {
    return this.request<Page<AdminTransactionResponse>>(`/transactions?page=${page}&size=${size}`);
  }
  
  async getTransactionById(transactionId: string): Promise<ResponseDto<AdminTransactionResponse>> {
    return this.request<AdminTransactionResponse>(`/transactions/${transactionId}`);
  }
  
  async getTransactionsByStatus(status: string, page = 0, size = 10): Promise<ResponseDto<Page<AdminTransactionResponse>>> {
    return this.request<Page<AdminTransactionResponse>>(`/transactions/status/${status}?page=${page}&size=${size}`);
  }
  
  // Tags
  async getTags(page = 0, size = 10): Promise<ResponseDto<Page<AdminTagResponse>>> {
    return this.request<Page<AdminTagResponse>>(`/tags?page=${page}&size=${size}`);
  }
  
  async getTagById(tagId: string): Promise<ResponseDto<AdminTagResponse>> {
    return this.request<AdminTagResponse>(`/tags/${tagId}`);
  }
  
  async createTag(name: string, description?: string): Promise<ResponseDto<AdminTagResponse>> {
    const params = new URLSearchParams({ name });
    if (description) params.append('description', description);
    return this.request<AdminTagResponse>(`/tags?${params.toString()}`, { method: 'POST' });
  }
  
  async updateTag(tagId: string, name: string, description?: string): Promise<ResponseDto<AdminTagResponse>> {
    const params = new URLSearchParams({ name });
    if (description) params.append('description', description);
    return this.request<AdminTagResponse>(`/tags/${tagId}?${params.toString()}`, { method: 'PUT' });
  }
  
  async deleteTag(tagId: string): Promise<ResponseDto<void>> {
    return this.request<void>(`/tags/${tagId}`, { method: 'DELETE' });
  }
  
  async getTagStatistics(): Promise<ResponseDto<Record<string, any>>> {
    return this.request<Record<string, any>>('/tags/statistics');
  }
  
  // Statistics
  async getSystemStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics');
  }
  
  async getUserStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics/users');
  }
  
  async getPostStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics/posts');
  }
  
  async getRestaurantStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics/restaurants');
  }
  
  async getRevenueStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics/revenue');
  }
  
  async getEngagementStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics/engagement');
  }
  
  async getChallengeStatistics(): Promise<ResponseDto<StatisticsResponse>> {
    return this.request<StatisticsResponse>('/statistics/challenges');
  }
}
```

### **2. TypeScript Interfaces:**
```typescript
// Base response structure
interface ResponseDto<T> {
  status: number;
  message: string;
  data: T;
}

// Pagination structure
interface Page<T> {
  content: T[];
  totalElements: number;
  totalPages: number;
  size: number;
  number: number;
}

// All DTO interfaces are defined above in each section
```

---

## üìû **SUPPORT & CONTACT**

- **Backend API**: `http://localhost:8080/api/admin`
- **Swagger Documentation**: `http://localhost:8080/swagger-ui/`
- **Database**: MongoDB
- **Authentication**: JWT Bearer Token

---

**üìù Last Updated**: 2025-01-25  
**üë§ Created by**: AI Assistant  
**üè∑Ô∏è Version**: 2.0.0  
**üìã Status**: ‚úÖ Complete - Ready for Frontend Implementation
